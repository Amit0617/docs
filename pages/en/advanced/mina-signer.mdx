import Page from "@reason/pages/Docs";
import DocLink from "@reason/components/DocLink";
export default Page({ title: "Mina Signer" });

# Mina Signer

This is a NodeJS package that allows you to generate Mina key pairs and sign transactions and strings using Mina's key pairs.
The project contains TypeScript but can be used from non-TypeScript NodeJS projects as well.

<br />

<Alert kind="warning">

Please be advised that generating key pairs with this method is unadvised and should only be used by experienced security professionals.
Please use our <DocLink copy="mina-generate-keypair" url="/using-mina/keypair#mina-generate-keypair" /> tool instead for creating key pairs.

Never reuse the same keypair from a testnet on mainnet!

</Alert>

The source code for Mina Signer is open source and be seen [here](https://github.com/MinaProtocol/mina/tree/develop/frontend/mina-signer).

## Installation

To get Mina Signer installed, you will need NodeJS on your system. Make sure it is available on your machine and then use either yarn or npm to install Mina Signer.

```bash
# yarn:
yarn add mina-signer

# npm:
npm install --save mina-signer
```

## Create a key pair

Creating a key pair is simple with Mina Signer. See the snippet below to see how to get create a key pair.

### NodeJS:

```javascript
import Client from "mina-signer";
const client = new Client({ network: "mainnet" });
// Or specify 'testnet' if using a network other than Mainnet: `new Client({ network: "testnet" })`

const keys = client.genKeys();
console.log(`Public key: ${keys.publicKey}`);
console.log(`Private key: ${keys.privateKey}`);
```

This will print your private key so make sure you are in a secure environment when using this method.

Please see the [Mina Signer README](https://github.com/MinaProtocol/mina/blob/develop/frontend/mina-signer/README.md) for more information.

<br />

<Alert kind="warning">

Never give out your private key and make sure they are stored safely. If you lose your private key or if a malicious actor gains access to your private key, you will lose access to your account and will lose your account funds. Always give out your public keys instead. Mina will never ask you for your private keys.

</Alert>

<br />

## Import your account generated from Mina Signer

Please note that there are differences in key pair format between what the Mina client expects and what Mina Signer generates.
When Mina Signer is used to generate a key pair, the key pair output returned are strings that aren't directly importable into our Mina client.
For this, we will have to use the `mina advanced wrap-key` tool to format our key pair strings into a format that is directly importable to our client.

Accomplishing this takes only a few short steps.

1. First, make sure you have a folder on your system where you can store the key files. We recommend using the ~/keys folder.

```
mkdir ~/keys
```

2. Next, ensure the permissions are set properly in this folder, this prevents unwanted processes from accessing these files.

```
chmod 700 ~/keys
```

3. Copy the private key output into a file in the ~/keys folder.

```
echo 'YOUR-PRIVATE_KEY' > ~/keys/my-wallet
```

4. Ensure the permissions are set properly for the private key file, this prevents unwanted processes from accessing it.

```
chmod 600 ~/keys/my-wallet
```

5. Use the `mina advanced wrap-key` tool to format your key pair into an importable format for the Mina client. Please note that using `mina advanced wrap-key` will force you to reset your password on your private key.

```
mina advanced wrap-key --privkey-path ~/keys/my-wallet
```

You will be prompted for a new password, as shown below.

```
Private key:
Password for new private key file:
Again to confirm:
```

This will generate a new `my-wallet.pub` and `my-wallet` file.

```
ls ~/keys/
my-wallet  my-wallet.pub
```

6. Ensure the permissions are set properly for the newley created private key file.

```
chmod 600 ~/keys/my-wallet
```

7. Finally, we can import the account created by Mina Signer into the client.

```
mina accounts import --privkey-path ~/keys/my-wallet
```

You will be prompted for the password you entered when the account was created with `mina advanced wrap-key`.

The response from this command will look like this:

```
ðŸ˜„ Imported account!
Public key: B62qjaA4N9843FKM5FZk1HmeuDiojG42cbCDyZeUDQVjycULte9PFkC
```

## Validate your private key

Now that you've created your key -- you'll want to validate that it works. It's sufficient to verify that you can sign a transaction. You can verify this using the `mina-validate-keypair` tool.

Run the following command:

```
mina-validate-keypair --privkey-path ~/keys/my-wallet
```
