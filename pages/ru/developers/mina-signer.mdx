import Page from "@reason/pages/Docs";
import DocLink from "@reason/components/DocLink";
export default Page({ title: "Mina Signer" });

# Клиент SDK

[Mina Signer Javascript SDK](https://www.npmjs.com/package/mina-signer) позволяет генерировать пары ключей, подписывать и проверять сообщения, а также подписывать транзакции, которые могут транслироваться в сеть.

Проект содержит типы Typescript, но может быть использован и из обычного NodeJS. Доступны следующие методы:

- `genKeys` - генерирует пару публичных/приватных ключей.
- `derivePublicKey` - производит открытый ключ соответствующего частного ключа.
- `signMessage` - подписывает случайное сообщение.
- `verifyMessage` - проверяет соответствие подписи сообщению.
- `signPayment` - подписывает платеж с помощью приватного ключа.
- `signStakeDelegation` - подписывает передачу стейка с помощью приватного ключа.

<Alert>

Клиент SDK позволяет генерировать и подписывать транзакции на air-gap устройстве, которое никогда не раскрывает приватный ключ в сети Интернет.

</Alert>

## Установка

```
yarn add mina-signer
# or with npm:
npm install --save mina-signer
```

## Использование

### Typescript

```typescript
import Client from "mina-signer";
const client = new Client({ network: "mainnet" });
// Or specify 'testnet' if using a network other than Mainnet: `new Client({ network: "testnet" })`

const keys = client.genKeys();
const signed = client.signMessage("hello", keypair);
if (client.verifyMessage(signed)) {
  console.log("Message was verified successfully");
}

// Sign and verify a payment
const signedPayment = client.signPayment(
  {
    to: keypair.publicKey,
    from: keypair.publicKey,
    amount: 1,
    fee: 1,
    nonce: 0,
  },
  keypair.privateKey
);
if (client.verifyPayment(signedPayment)) {
  console.log("Payment was verified successfully");
}
```

### NodeJS

```typescript
const Client = require("mina-signer").default;
const client = new Client({ network: "mainnet" });
// Or specify 'testnet' if using a network other than Mainnet: `new Client({ network: "testnet" })`

const keys = client.genKeys();
const signed = client.signMessage("hello", keypair);
if (client.verifyMessage(signed)) {
  console.log("Message was verified successfully");
}

// Sign and verify a payment
const signedPayment = client.signPayment(
  {
    to: keypair.publicKey,
    from: keypair.publicKey,
    amount: 1,
    fee: 1,
    nonce: 0,
  },
  keypair.privateKey
);
if (client.verifyPayment(signedPayment)) {
  console.log("Payment was verified successfully");
}
```

<Alert>

При генерации транзакций вам необходимо будет указать порядковый номер счета nonce. Это можно сделать через CLI, используя `mina advanced get-nonce --address <PUBLIC_KEY>` или используя <DocLink copy="GraphQL" url="/developers/graphql-api" />.

</Alert>
